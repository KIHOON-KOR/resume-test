{% extends "base.html" %}
{% block title %}Home - KiHoon{% endblock %}

{% block content %}
<div class="bento-grid">
  
  <div class="bento-box box-intro">
    <div class="d-flex flex-column justify-content-center h-100">
      <h4 class="text-highlight mb-3">Backend Developer</h4>
      <h1 class="display-5 mb-4 fw-bold">Writing Code, Recording Growth</h1>
      <p class="text-white-60 fs-5 mb-4" style="line-height: 1.6;">
        기록을 통해 한계를 넘고<br>
        더 나은 아키텍처를 고민하는 백엔드 개발자 김기훈입니다.
      </p>
      <div class="d-flex flex-wrap gap-2">
        <span class="badge bg-light text-dark bg-opacity-75 rounded-pill px-3 py-2">Python</span>
        <span class="badge bg-light text-dark bg-opacity-75 rounded-pill px-3 py-2">Django</span>
        <span class="badge bg-light text-dark bg-opacity-75 rounded-pill px-3 py-2">Git</span>
        <span class="badge bg-light text-dark bg-opacity-75 rounded-pill px-3 py-2">FastAPI</span>
      </div>
    </div>
  </div>

  <div class="d-flex flex-column gap-3" style="grid-column: span 1; grid-row: span 1;">
    
    <div class="bento-box flex-fill d-flex flex-column align-items-center justify-content-center p-3">
        <div class="mb-3 position-relative">
            <div class="rounded-circle overflow-hidden shadow-lg" 
                 style="width: 140px; height: 140px; border: 4px solid rgba(255,255,255,0.2);">
                <img src="/static/images/IMG_4400.jpeg" alt="Profile" class="w-100 h-100" style="object-fit: cover;">
            </div>
        </div>
        <h3 class="fw-bold mb-1">KiHoon</h3>
        <p class="text-white-50 fs-6 m-0">Incheon, Korea</p>
    </div>

    <div class="bento-box flex-fill d-flex flex-column align-items-center justify-content-center p-0 text-decoration-none" 
       style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1);">
        
        <img src="https://readme-typing-svg.demolab.com?font=Pretendard&weight=600&size=18&duration=2000&pause=1000&color=a6c1ee&background=00000000&center=true&vCenter=true&width=200&height=100&lines=Coding+Everyday;Focusing+on+Backend;Python+%26+Django;Always+Learning" 
             alt="Typing Status" 
             class="img-fluid">
             
        <div class="d-flex align-items-center gap-2 mt-2">
            <span class="position-relative d-flex h-2 w-2">
              <span class="animate-ping position-absolute d-inline-flex h-100 w-100 rounded-circle bg-success opacity-75"></span>
              <span class="position-relative d-inline-flex rounded-circle bg-success" style="width: 8px; height: 8px;"></span>
            </span>
            <span class="text-white-50" style="font-size: 0.75rem;">Active Now</span>
        </div>
    </div>

  </div>

  <div class="d-flex flex-column gap-3" style="grid-column: span 1; grid-row: span 1;">
    
    <div class="bento-box box-social flex-fill d-flex flex-column justify-content-center align-items-center p-3">
      <h5 class="text-white-50 mb-3 align-self-start ps-2">Links</h5>
      <div class="d-grid gap-2 w-100">
        <a href="https://github.com/KIHOON-KOR" target="_blank" class="btn btn-outline-light text-start">
          <i class="bi bi-github me-2"></i> GitHub
        </a>
        <a href="https://velog.io/@nike6736/posts" target="_blank" class="btn btn-outline-light text-start">
          <i class="bi bi-pencil-square me-2"></i> Velog
        </a>
      </div>
    </div>

    <a href="https://solved.ac/profile/nike000112" target="_blank" class="bento-box flex-fill d-flex align-items-center justify-content-center p-0 overflow-hidden position-relative text-decoration-none">
        <img src="https://mazassumnida.wtf/api/v2/generate_badge?boj=nike000112" 
             alt="Baekjoon Tier" 
             class="img-fluid w-100 h-100"
             style="object-fit: contain; transform: scale(0.9);">
    </a>
  </div>

  <div class="bento-box box-project">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="mb-0 fw-bold">Project Preview</h3>
        <a href="/projects" class="btn btn-sm btn-outline-light rounded-pill px-3">View All <i class="bi bi-arrow-right ms-1"></i></a>
    </div>
    
    {% if projects %}
      {% set main_p = projects[0] %}
      <div class="row g-0 h-100 align-items-center">
        <div class="col-md-5 mb-3 mb-md-0 h-100">
            <div class="rounded-4 overflow-hidden shadow-sm h-100 position-relative">
               <img src="{{ main_p.image }}" class="w-100 h-100 position-absolute" style="object-fit: cover; top:0; left:0;" alt="Project">
            </div>
        </div>
        <div class="col-md-7 ps-md-4">
            <h2 class="fw-bold mb-2">{{ main_p.title }}</h2>
            <p class="text-white-50 text-truncate" style="-webkit-line-clamp: 2; display: -webkit-box; -webkit-box-orient: vertical; overflow: hidden;">
              {{ main_p.desc }}
            </p>
            <div class="mt-3">
                 <span class="badge bg-white text-dark bg-opacity-75 me-1">Django</span>
                 <span class="badge bg-white text-dark bg-opacity-75">Docker</span>
            </div>
        </div>
      </div>
    {% else %}
        <div class="h-75 d-flex align-items-center justify-content-center text-white-50">
            <p>프로젝트를 등록해주세요.</p>
        </div>
    {% endif %}
  </div>

  <a href="/contact" class="bento-box box-contact text-decoration-none d-flex flex-column justify-content-center align-items-center text-center" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
    <div class="mb-3 p-3 rounded-circle" style="background: rgba(255,255,255,0.2);">
        <i class="bi bi-send-fill fs-2 text-white"></i>
    </div>
    <h3 class="text-white fw-bold">Let's Talk</h3>
    <p class="text-white-50 m-0 fs-6">프로젝트 제안하기</p>
  </a>

</div>
{% endblock %}